(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),l=a.n(c),o=a(4),u=a.n(o),s=a(8),i=a(7),m=a(12),p=a(38),d=a(17),f=a(23),E=a(24),v=a(124),b=a(76),g=r.a.createContext({collapse:!1,onClick:function(){}}),h=r.a.createContext({id:"",username:"",email:"",bio:"",img:"",experience:"",reviews:[],favourites:[],comments:[],loadUser:function(){}}),y=function(){var e=Object(n.useContext)(g).collapse,t=Object(n.useContext)(h).img;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:"row mx-auto"},r.a.createElement(b.a,null,r.a.createElement("hr",null),r.a.createElement("img",{src:t,alt:"profile",style:{visibility:e?"hidden":"visible",transitionDuration:"0.2s",objectFit:"cover",height:"150px",width:"150px"}}))))},w=a(15),x=a(29);function O(){var e=Object(f.a)(["\n\t.link {\n\t\tpadding: 6px 8px 6px 16px;\n\t\ttext-decoration: none;\n\t\tfont-size: 20px;\t\t\t\t\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttransition-duration: 0.4s;\n\t\twhite-space: nowrap;\n\t\t\n\t\t&:hover {\n\t\t\tbackground-color: #00346e;\n\t\t\tcolor: #ccefff;\n\t\t}\n\n\t\t&:focus {\n\t\t\tbackground-color: #00346e;\n\t\t\tborder-left: 3px solid blue;\n\t\t}\n\t}\n"]);return O=function(){return e},e}function j(){var e=Object(f.a)(["\n\t.link {\n\t\tpadding: 6px 8px 6px 16px;\n\t\ttext-decoration: none;\n\t\tfont-size: 20px;\n\t\tdisplay: block;\t\t\t\t\t\n\t\tcursor: pointer;\n\t\tcolor: white;\n\t\ttransition-duration: 0.4s;\n\t\twhite-space: nowrap;\n\t\t\n\t\t&:hover {\n\t\t\tbackground-color: #00346e;\n\t\t\tcolor: #ccefff;\n\t\t}\n\n\t\t&:focus {\n\t\t\tbackground-color: #00346e;\n\t\t\tborder-left: 3px solid blue;\n\t\t}\n\t}\n"]);return j=function(){return e},e}var C=E.a.div(j()),k=E.a.span(O()),S=function(e){var t=e.value,a=e.link,c=e.onLogout,l=e.iconStyle,o=Object(n.useContext)(g).collapse,u=r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{to:a||"",onClick:c?function(){return c()}:"",replace:!0,className:"link"},r.a.createElement(w.a,{icon:l,className:"mr-2"}),r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(e){return e.small?"":r.a.createElement(r.a.Fragment,null,o?"":t)}))));return r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(e){return e.small?r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,u)):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,u))}))},I=a(13),N=a(10),F=a.n(N),L={review:{getReviewsAll:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/review/all");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getReviewsOneType:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/review/all/"+t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReviewsSearch:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/review/all/search/"+t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getReview:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/review/one/"+t);case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveReview:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/review/new",t,{withCredentials:!0});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateReview:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("/api/review/update",t,{withCredentials:!0});case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteReview:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("/api/review/delete",{data:t,withCredentials:!0});case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},user:{getUser:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/user",t);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/user/current");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveUser:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/user/new",t);case 2:return a=e.sent,console.log("api res!...",a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("/api/user",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUserPassword:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("/api/user/password",t);case 2:return a=e.sent,console.log("API res: ",a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),loginUser:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/user/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/user/logout");case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),authenticateUser:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/user/authenticate");case 2:return t=e.sent,console.log(t.data.user),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},comment:{saveComment:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/comment/new",t,{withCredentials:!0});case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getComment:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/comment/one/edit/"+t);case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateComment:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("/api/comment/one/edit",t,{withCredentials:!0});case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteComment:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.delete("/api/comment/one/delete",{data:t,withCredentials:!0});case 2:return a=e.sent,console.log(a),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},favourite:{saveFavourite:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/api/favourite/new",t,{withCredentials:!0});case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeFavourite:function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.patch("/api/favourite/remove",t,{withCredentials:!0});case 2:return a=e.sent,console.log(a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getFavouriteReviews:function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/api/favourite/getAll");case 2:return t=e.sent,console.log(t.data.favourites),e.abrupt("return",t.data.favourites);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},P=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.user.logoutUser();case 2:t=e.sent,localStorage.setItem("user",""),c(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{iconStyle:I.l,value:"PROFILE",link:"/profile"}),r.a.createElement(S,{iconStyle:I.g,value:"NEW REVIEW",link:"/review/new"}),r.a.createElement(S,{iconStyle:I.d,value:"MY FAVOURITES",link:"/favourites"}),r.a.createElement(S,{iconStyle:I.c,value:"LOGOUT",onLogout:l}),a?r.a.createElement(p.a,{to:a}):"")};function R(){var e=Object(f.a)(["\n\t&& {\n\t\tcolor: white;\n\t\tfont-size: 30px;\n\t\twidth: 200px;\n\t\tcursor: pointer;\n\t\ttransition-duration: 0.2s;\n\t\twhite-space: nowrap;\n\t\t&:hover {\n\t\t\tbackground-color: #012f64;\n\t\t}\n\t}\t\n"]);return R=function(){return e},e}var U=E.a.div(R()),T=function(){var e=Object(n.useContext)(g),t=e.collapse,a=e.onClick;return r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(e){return e.small,r.a.createElement(U,{className:"m-0 w-100",onClick:function(){return a(!t)}},r.a.createElement(w.a,{className:"mx-2",icon:t?I.b:I.j}),t?"":r.a.createElement("span",{style:{fontSize:"1rem",verticalAlign:"baseline"}}," CLOSE"))}))},G=a(82),D=a(125),A=a(136),B=function(){var e=Object(n.useContext)(g).collapse,t=Object(n.useContext)(h).reviews;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(v.a,{style:{height:"50px"}},r.a.createElement(b.a,null,r.a.createElement(G.a,{className:"rounded-0",style:{height:"38px",transitionDuration:"0.2s"},variant:"primary",block:!0},r.a.createElement(D.a,{variant:"light"},t.length)))):r.a.createElement(v.a,{style:{height:"50px"},className:"mx-auto"},r.a.createElement(b.a,null,r.a.createElement(A.a,{style:{height:"38px",width:"150px",transitionDuration:"0.2s",borderRadius:"0",fontWeight:"bold"},animated:!0,variant:"primary",now:100,label:"REVIEWS: ".concat(t.length)}))),r.a.createElement("hr",null))};function W(){var e=Object(f.a)(["\n\t\theight: 90px; \n\t\twidth: 100%;\n\t\tposition: fixed;\n\t\tz-index: 9999;\n\t\tbackground-image: linear-gradient(#001936, #001f42, #001936);\n\t\toverflow: hidden;\n\t\ttransition: 0.2s;\n\n\t\t&.closed {\n\t\t\theight: 45px;\n\t\t\ttransition: 0.2s;\n\t\t}\n"]);return W=function(){return e},e}function M(){var e=Object(f.a)(["\n\t\theight: 100%; \n\t\twidth: 220px; \n\t\tposition: fixed;\n\t\tz-index: 9999;\n\t\ttop: 0; \n\t\tleft: 0;\n\t\tbackground-image: linear-gradient(to right, #001936, #001f42, #001936);\n\t\toverflow-x: hidden;\n\t\ttransition: 0.2s;\n\n\t\t&.closed {\n\t\t\twidth: 50px;\n\t\t\ttransition: 0.2s;\n\t\t}\n"]);return M=function(){return e},e}var _=E.a.div(M()),q=E.a.div(W()),z=function(){var e=Object(n.useContext)(g).collapse;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(t){return t.small?r.a.createElement(q,{className:e?"closed":""},r.a.createElement(T,null),r.a.createElement(P,null)):r.a.createElement(_,{className:e?"closed":""},r.a.createElement(T,null),r.a.createElement(y,null),r.a.createElement(B,null),r.a.createElement(P,null))})))},H=a(133),K=a(126),Y=r.a.createContext({search:"",onSearch:function(){}}),V=function(e){var t=e.main,a=Object(n.useContext)(Y).onSearch,c=Object(n.useState)(),l=Object(i.a)(c,2),o=l[0],m=l[1],d=Object(n.useState)(),f=Object(i.a)(d,2),E=f[0],v=f[1],b=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m("/feed"),a(E);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("input",{onKeyDown:function(e){"Enter"===e.key&&b()},className:t?"p-2 mr-1 rounded":"m-1 p-1 rounded",placeholder:"Search",value:E||"",onChange:function(e){return v(e.target.value)},style:{border:"none"}}),r.a.createElement(w.a,{icon:I.i,onClick:b,style:{cursor:"pointer",fontSize:t?"2rem":"",color:"white"}}),o?r.a.createElement(p.a,{to:"/feed"}):"")};function J(){var e=Object(f.a)(["\n\tbackground-image: linear-gradient(#0271f1, #00c3ff);\n\n\t.search {\n\t\topacity: 0.5;\n\t}\n\n\t.homeIcon {\n\t\tcolor: white;\n\t\tfont-size: 30px;\n\t\ttransition-duration: 0.2s;\n\t\tmargin: 5px;\n\n\t\t&:hover {\n\t\t\tcolor: #ccefff;\n\t\t}\n\t}\n"]);return J=function(){return e},e}var Q=E.a.div(J()),X={openNav:{marginLeft:"220px",padding:"0px 10px",transitionDuration:"0.2s"},closedNav:{marginLeft:"50px",padding:"0px 10px",transitionDuration:"0.2s"}},Z=function(){var e=Object(n.useContext)(g).collapse,t=Object(p.h)();return r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(a){return a.small?r.a.createElement(H.a,{expand:"lg",sticky:"top",className:"p-0"},r.a.createElement(Q,{style:{width:"100%"}},r.a.createElement(K.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement("div",{className:"mr-auto search",style:{visibility:"/"===t.pathname?"hidden":"visible"}},r.a.createElement(V,null)),r.a.createElement("div",null,r.a.createElement(m.b,{to:"/",replace:!0},r.a.createElement(w.a,{icon:I.e,className:"homeIcon"}))))))):r.a.createElement(H.a,{expand:"lg",sticky:"top",className:"p-0",style:e?X.closedNav:X.openNav},r.a.createElement(Q,{style:{width:"100%"}},r.a.createElement(K.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement("div",{className:"mr-auto search",style:{visibility:"/"===t.pathname?"hidden":"visible"}},r.a.createElement(V,null)),r.a.createElement("div",{className:"ml-auto",style:{display:"flex",alignItems:"center"}},r.a.createElement(m.b,{to:"/",replace:!0,style:{textDecoration:"none"}},r.a.createElement("h3",{className:"my-auto homeIcon"},r.a.createElement("span",{role:"img","aria-label":"books"},"\ud83d\udcda"),"ReviewMe")))))))}))},$=a(131),ee=a(135),te=a(129),ae=(a(60),function(e){var t=e.value,a=e.onDelete,c=Object(n.useState)(t),l=Object(i.a)(c,1)[0],o=Object(n.useContext)(h).id,p=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={comment:l._id,author:o,review:l.review},console.log(t),e.next=4,L.comment.deleteComment(t);case 4:e.sent,a(),b();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=Object(n.useState)(!1),f=Object(i.a)(d,2),E=f[0],v=f[1],b=function(){return v(!1)};return Object(n.useEffect)((function(){}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{style:{border:"none"}},r.a.createElement(ee.a.Header,{style:{backgroundColor:"#001936"}},r.a.createElement("p",{style:{width:"90%",margin:"0px",display:"inline-block"}},l.author.username," says:"),r.a.createElement("span",null,l.author._id===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.b,{to:"/comment/one/edit/".concat(l._id)},r.a.createElement(w.a,{style:{color:"blanchedalmond",cursor:"pointer"},icon:I.h})),r.a.createElement(w.a,{onClick:function(){return v(!0)},style:{color:"crimson",cursor:"pointer"},icon:I.k})):"")),r.a.createElement(ee.a.Body,{style:{backgroundColor:"#002857"}},r.a.createElement(ee.a.Text,null,l.body),"Posted @ ",l.createdAt)),r.a.createElement(te.a,{show:E,onHide:b,animation:!1,backdrop:"static",dialogClassName:"my-modal-width",centered:!0},r.a.createElement(te.a.Header,{style:{backgroundColor:"#002857"},closeButton:!0},r.a.createElement(te.a.Title,null,"Confirm Comment Delete")),r.a.createElement(te.a.Footer,{style:{backgroundColor:"#00346e"}},r.a.createElement(G.a,{variant:"secondary",onClick:b},"Cancel"),r.a.createElement(G.a,{variant:"danger",onClick:p},"DELETE"))))}),ne=a(134),re=a(132),ce=a(64),le=a(84),oe=a.n(le),ue=function(e){var t=e.review,a=t._id,c=t.author,l=t.item,o=t.title,d=t.rating,f=t.category,E=t.pros,g=t.cons,y=t.description,x=t.img,O=t.favourites,j=t.createdAt,C=e.noTruncate,k=e.loadReviews,S=e.loadReview,N=Object(n.useContext)(h),F=N.id,P=N.username,R=N.loadUser,U=Object(p.g)(),T=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={review:a,author:F},e.next=3,L.favourite.saveFavourite(t);case 3:n=e.sent,console.log("front end favourite: ",n),R(),k&&k(),S&&S();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={review:a,author:F},e.next=3,L.favourite.removeFavourite(t);case 3:n=e.sent,console.log("front end favourite: ",n),R(),k&&k(),S&&S();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={review:a,author:F},e.next=3,L.review.deleteReview(t);case 3:e.sent,V(),R(),k&&k(),S&&U.push("/feed/All");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(n.useState)(""),W=Object(i.a)(B,2),M=W[0],_=W[1],q=Object(p.h)(),z=Object(n.useState)(!1),H=Object(i.a)(z,2),K=H[0],Y=H[1],V=function(){return Y(!1)};return Object(n.useEffect)((function(){!function(){switch(f){case"Technology":return _("warning");case"Fashion":return _("success");case"Miscellaneous":default:_("secondary")}}()}),[f]),r.a.createElement(v.a,{className:"py-2"},r.a.createElement(b.a,null,r.a.createElement(ee.a,{bg:M,text:"light"},r.a.createElement(ne.a.Container,{defaultActiveKey:"main"},r.a.createElement(ee.a.Header,{style:{fontWeight:"bold"}},r.a.createElement(re.a,{variant:"tabs"},r.a.createElement(re.a.Item,null,r.a.createElement(re.a.Link,{eventKey:"main"},r.a.createElement(w.a,{icon:I.a}))),r.a.createElement(re.a.Item,null,r.a.createElement(re.a.Link,{eventKey:"image"},r.a.createElement(w.a,{icon:I.f}))),r.a.createElement(re.a.Item,null,r.a.createElement(re.a.Link,{style:{color:"white"},disabled:!0},l)),"/profile"!==q.pathname&&r.a.createElement(re.a.Item,{className:"ml-auto"},O.length?O.map((function(e,t){return function(e,t){return console.log(F,e.author),F===e.author?r.a.createElement(w.a,{key:t,icon:I.d,style:{cursor:"pointer",color:"#ff4f4f"},onClick:function(){return D()}}):r.a.createElement(w.a,{key:t,icon:ce.a,style:{cursor:"pointer"},onClick:function(){return T()}})}(e,t)})):r.a.createElement(w.a,{icon:ce.a,style:{cursor:"pointer"},onClick:function(){return T()}})),r.a.createElement(re.a.Item,{className:"ml-auto"},c.username===P&&r.a.createElement(m.b,{to:"/review/one/edit/".concat(a),style:{color:"white",textDecoration:"none"}},"EDIT")),r.a.createElement(re.a.Item,{className:"ml-auto"},c.username===P&&r.a.createElement(re.a.Link,{onClick:function(){return Y(!0)},style:{color:"red",textDecoration:"none"}},"DELETE")),r.a.createElement(re.a.Item,{className:"ml-auto"},"\u2b50".repeat(d)),r.a.createElement(re.a.Item,{className:"ml-auto"},r.a.createElement(m.b,{to:"/review/one/".concat(a),style:{color:"white",textDecoration:"none"}},". . .")))),r.a.createElement(ne.a.Content,null,r.a.createElement(ne.a.Pane,{eventKey:"main"},r.a.createElement(ee.a.Body,{style:{height:C?"auto":"200px",overflow:"hidden"}},r.a.createElement(ee.a.Title,null,o),r.a.createElement("hr",{className:"mb-1"}),E||g?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"+"),r.a.createElement("span",null," ",E)),r.a.createElement(b.a,null,r.a.createElement("span",{style:{color:"red",fontWeight:"bold"}},"-"),r.a.createElement("span",null," ",g))),r.a.createElement("hr",{className:"mt-1"})):"",r.a.createElement(ee.a.Text,null,C?y:r.a.createElement(oe.a,{line:2,element:"p",truncateText:"...",text:y,textTruncateChild:r.a.createElement(m.b,{to:"/review/one/".concat(a),style:{color:"#0099ff",textDecoration:"none"}},"see more")}))))),r.a.createElement(ne.a.Content,null,r.a.createElement(ne.a.Pane,{eventKey:"image"},r.a.createElement(ee.a.Body,null,r.a.createElement(ee.a.Img,{src:x})))),r.a.createElement(ee.a.Footer,null,"written by - ",c.username," @ ",j)))),r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{show:K,onHide:V,animation:!1,backdrop:"static",dialogClassName:"my-modal-width",centered:!0},r.a.createElement(te.a.Header,{style:{backgroundColor:"#002857"},closeButton:!0},r.a.createElement(te.a.Title,null,"Confirm Review Delete")),r.a.createElement(te.a.Footer,{style:{backgroundColor:"#00346e"}},r.a.createElement(G.a,{variant:"secondary",onClick:V},"Cancel"),r.a.createElement(G.a,{variant:"danger",onClick:A},"DELETE")))))},se=function(e){var t=e.match,a=Object(n.useState)({img:"",_id:"",item:"",title:"",author:{},rating:"",category:"",pros:"",cons:"",description:"",comments:[],favourites:[],createdAt:"",_v:""}),c=Object(i.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(""),p=Object(i.a)(m,2),d=p[0],f=p[1],E=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("params id: ",t.params.id),e.next=3,L.review.getReview(t.params.id);case 3:a=e.sent,console.log(a),o(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){E()},h=function(){var e=Object(s.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={review:l._id,body:d},console.log(a),e.next=5,L.comment.saveComment(a);case 5:n=e.sent,console.log("front-end",n),E();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){E()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{fluid:!0,style:{backgroundColor:"#00346e"}},r.a.createElement(ue,{review:l,loadReview:E,noTruncate:!0})),r.a.createElement(K.a,{fluid:!0,style:{backgroundColor:"#00346e"}},r.a.createElement(v.a,{className:"pt-2"},r.a.createElement(b.a,null,r.a.createElement($.a,{onSubmit:h},"New Comment:",r.a.createElement(v.a,null,r.a.createElement(b.a,{xs:10},r.a.createElement($.a.Group,null,r.a.createElement($.a.Control,{as:"textarea",rows:"3",value:d,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(b.a,null,r.a.createElement(G.a,{variant:"primary",type:"submit"},"Submit")))))),r.a.createElement(v.a,null,r.a.createElement(b.a,null,l.comments.length?l.comments.map((function(e,t){return r.a.createElement(ae,{key:t,value:e,onDelete:g})})):""))))},ie=a(130),me=a(127),pe=function(){var e=Object(n.useContext)(h).loadUser,t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),m=Object(i.a)(o,2),d=m[0],f=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),y=g[0],w=g[1],x=Object(n.useState)({category:"Miscellaneous",colour:"secondary"}),O=Object(i.a)(x,2),j=O[0],C=O[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),I=S[0],N=S[1],F=Object(n.useState)(""),P=Object(i.a)(F,2),R=P[0],U=P[1],T=Object(n.useState)(""),D=Object(i.a)(T,2),A=D[0],B=D[1],W=Object(n.useState)(""),M=Object(i.a)(W,2),_=M[0],q=M[1],z=Object(n.useState)(""),H=Object(i.a)(z,2),Y=H[0],V=H[1],J=Object(p.g)(),Q=function(){var t=Object(s.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a.preventDefault(),c&&d&&y&&j&&_){t.next=5;break}return V({message:"Please fill out all * fields.",type:"warning"}),t.abrupt("return");case 5:return n=j.category,r={item:c,title:d,rating:y,category:n,pros:I,cons:R,description:_},A&&(r.img=A),t.next=10,L.review.saveReview(r);case 10:return t.sent,V({message:"Successfully created Review.",type:"success"}),setTimeout((function(){J.push("/profile")}),1500),e(),t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{className:"shadow p-3",style:{backgroundColor:"#00346e"}},r.a.createElement("h2",null,"New Review"),r.a.createElement("hr",null),r.a.createElement($.a,{onSubmit:Q},r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement($.a.Label,null,"Item *"),r.a.createElement($.a.Control,{type:"text",name:"item",value:c,placeholder:"Airpods",onChange:function(e){return l(e.target.value.substring(0,30))}})),r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput2"},r.a.createElement($.a.Label,null,"Title *"),r.a.createElement($.a.Control,{type:"text",name:"title",value:d,placeholder:"Well, that was quite expensive!",onChange:function(e){return f(e.target.value.substring(0,30))}})),r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement($.a.Label,{style:{color:"green",fontWeight:"bold"}},"Pros"),r.a.createElement($.a.Control,{type:"text",name:"title",value:I,placeholder:"Compatible with all my apple products ( the ecosystem ! )",onChange:function(e){return N(e.target.value.substring(0,20))}}))),r.a.createElement(b.a,null,r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput4"},r.a.createElement($.a.Label,{style:{color:"red",fontWeight:"bold"}},"Cons"),r.a.createElement($.a.Control,{type:"text",name:"title",value:R,placeholder:"Expensive",onChange:function(e){return U(e.target.value.substring(0,20))}})))),r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Rating ",r.a.createElement("span",{role:"img","aria-label":"star-emoji"},"\u2b50")," *"),r.a.createElement("div",{key:"inline-radio",className:"mb-3"},[1,2,3,4,5].map((function(e,t){return r.a.createElement($.a.Check,{inline:!0,key:t,name:"ratingSelection",label:e,type:"radio",id:"inline-radio-".concat(e),onChange:function(){return w(e)},checked:y===e})}))))),r.a.createElement(b.a,null,r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Category"),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{variant:j.colour},j.category),r.a.createElement(ie.a.Menu,null,r.a.createElement(ie.a.Item,{onClick:function(){return C({category:"Technology",colour:"warning"})}},"Technology"),r.a.createElement(ie.a.Item,{onClick:function(){return C({category:"Fashion",colour:"success"})}},"Fashion"),r.a.createElement(ie.a.Item,{onClick:function(){return C({category:"Miscellaneous",colour:"secondary"})}},"Miscellaneous")))))),r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Image (URL only)"),r.a.createElement($.a.Control,{type:"text",name:"image",value:A,placeholder:"https://via.placeholder.com/150",onChange:function(e){return B(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement($.a.Label,null,"Your Review *"),r.a.createElement($.a.Control,{as:"textarea",rows:"4",placeholder:"Great sound but doesn't offer the best value propostion. Other similar quality earphones for much cheaper.",value:_,onChange:function(e){return q(e.target.value)}})),Y.type?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(me.a,{variant:Y.type},Y.message))):"",r.a.createElement(G.a,{type:"submit"},"Save"))))},de=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(h).loadUser,o=Object(n.useState)(""),m=Object(i.a)(o,2),d=m[0],f=m[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),y=g[0],w=g[1],x=Object(n.useState)(""),O=Object(i.a)(x,2),j=O[0],C=O[1],k=Object(n.useState)(""),S=Object(i.a)(k,2),I=S[0],N=S[1],F=Object(n.useState)(""),P=Object(i.a)(F,2),R=P[0],U=P[1],T=Object(n.useState)(""),D=Object(i.a)(T,2),A=D[0],B=D[1],W=Object(n.useState)(""),M=Object(i.a)(W,2),_=M[0],q=M[1],z=Object(n.useState)({message:"",type:""}),H=Object(i.a)(z,2),Y=H[0],V=H[1],J=Object(n.useState)(),Q=Object(i.a)(J,2),X=Q[0],Z=(Q[1],function(){var e=Object(s.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!a){e.next=23;break}if(d&&y&&I&&R){e.next=6;break}return V({message:"Please fill out all fields.",type:"warning"}),e.abrupt("return");case 6:return e.next=8,L.user.getUser({username:d,email:y});case 8:if(n=e.sent,console.log("validate: ",n),!n||n.isLogged){e.next=13;break}return V({message:"Username or Email already exists.",type:"warning"}),e.abrupt("return");case 13:return r={username:d,email:y,bio:I,img:R},console.log(r),e.next=17,L.user.updateUser(r);case 17:if(!e.sent){e.next=23;break}return V({message:"Details updated successfully.",type:"success"}),setTimeout((function(){V({message:"",type:""})}),1e3),l(),e.abrupt("return");case 23:if(a){e.next=37;break}if(A&&_){e.next=27;break}return V({message:"Please fill out all fields.",type:"warning"}),e.abrupt("return");case 27:if(A===_){e.next=30;break}return V({message:"Passwords do not match.",type:"warning"}),e.abrupt("return");case 30:return e.next=32,L.user.updateUserPassword({currentPassword:j,newPassword:A});case 32:return c=e.sent,V({message:c.message,type:c.type}),setTimeout((function(){V({message:"",type:""})}),1e3),l(),e.abrupt("return");case 37:e.next=44;break;case 39:return e.prev=39,e.t0=e.catch(1),console.log(e.t0.message),V({message:"Failed to update. Try again.",type:"danger"}),e.abrupt("return");case 44:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t){return e.apply(this,arguments)}}()),ee=function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.user.getCurrentUser();case 2:t=e.sent,a=t.username,n=t.email,r=t.bio,c=t.img,f(a),w(n),N(r),U(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){ee()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},fluid:!0},r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement($.a,{onSubmit:Z,className:"shadow"},Y.type?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(me.a,{variant:Y.type},Y.message))):"",r.a.createElement(v.a,{className:"px-3 pb-3"},r.a.createElement(b.a,null,r.a.createElement("h2",null,"Edit Profile"),r.a.createElement(G.a,{variant:"info",onClick:function(){return c(!a)}},a?"Change Password":"Edit Details"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement($.a.Group,{controlId:"formBasicUsername"},r.a.createElement($.a.Label,null,"Username"),r.a.createElement($.a.Control,{type:"text",value:d||"",placeholder:"Enter username",onChange:function(e){return f(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicEmail"},r.a.createElement($.a.Label,null,"Email address"),r.a.createElement($.a.Control,{type:"email",value:y||"",placeholder:"Enter email",onChange:function(e){return w(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicBio"},r.a.createElement($.a.Label,null,"Bio"),r.a.createElement($.a.Control,{as:"textarea",value:I||"",placeholder:"Enter bio",onChange:function(e){return N(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicImg"},r.a.createElement($.a.Label,null,"Profile Image (URL)"),r.a.createElement($.a.Control,{type:"text",value:R||"",placeholder:"Enter bio",onChange:function(e){return U(e.target.value)}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement($.a.Group,{controlId:"formBasicCurrentPassword"},r.a.createElement($.a.Label,null,"Current Password"),r.a.createElement($.a.Control,{type:"password",value:j||"",placeholder:"Password",onChange:function(e){return C(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicNewPassword"},r.a.createElement($.a.Label,null,"New Password"),r.a.createElement($.a.Control,{type:"password",value:A||"",placeholder:"Password",onChange:function(e){return B(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicConfirmNewPassword"},r.a.createElement($.a.Label,null,"Confirm New Password"),r.a.createElement($.a.Control,{type:"password",value:_||"",placeholder:"Password",onChange:function(e){return q(e.target.value)}}))))),r.a.createElement(G.a,{variant:"primary btn-block rounded-0",type:"submit"},a?"Save Details":"Set New Password"))))),X?r.a.createElement(p.a,{to:X}):"")},fe=a(128),Ee=a(88),ve=a.n(Ee),be=function(){var e=Object(p.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{style:{backgroundImage:"url('".concat(ve.a,"')"),backgroundSize:"cover"},fluid:!0,className:"m-0 p-0 text-center"},r.a.createElement("div",{"data-aos":"fade-down","data-aos-duration":"500",style:{backgroundImage:"linear-gradient(#0000007c, #0000007c)",height:"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("h1",{style:{color:"white",verticalAlign:"middle"}},"Search a Review"),r.a.createElement(V,{main:!0}))),r.a.createElement(K.a,{fluid:!0},[{name:"All",colour:"info"},{name:"Technology",colour:"warning"},{name:"Fashion",colour:"success"},{name:"Miscellaneous",colour:"secondary"}].map((function(t,a){return r.a.createElement(v.a,{key:a},r.a.createElement(b.a,{className:"p-0"},r.a.createElement(ee.a,{onClick:function(){return a=t.name,void e.push("/feed/".concat(a));var a},className:"rounded-0",bg:t.colour,style:{cursor:"pointer"}},r.a.createElement(ee.a.Body,null,r.a.createElement(ee.a.Title,null,r.a.createElement("h3",null,t.name.toUpperCase()))))))}))))},ge=function(){var e=Object(n.useContext)(h),t=e.username,a=e.bio,c=e.reviews,l=r.a.useMemo((function(){return c.slice(0).reverse()}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},className:"text-center",fluid:!0},r.a.createElement(v.a,{noGutters:!0},r.a.createElement(b.a,{style:{height:"20vh",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("h2",{className:"my-auto"},"Welcome back, ",t,"!"))),r.a.createElement(v.a,{noGutters:!0},r.a.createElement(b.a,null,r.a.createElement(fe.a,{style:{backgroundColor:"#002857"},fluid:!0},r.a.createElement("h2",null,"Total Reviews: ",c.length)))),r.a.createElement(v.a,{noGutters:!0},r.a.createElement(b.a,null,r.a.createElement("h3",null,"About Me:"),r.a.createElement("p",null,a))),r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(m.b,{to:"/profile/edit"},"Edit Your Profile",r.a.createElement(w.a,{icon:I.c}))))),r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},fluid:!0},r.a.createElement(v.a,null,r.a.createElement(b.a,{style:{height:"20vh",display:"flex",alignItems:"center",justifyContent:"center"},className:"text-center"},r.a.createElement("h2",null,"My Reviews"))),l.map((function(e,t){return r.a.createElement(ue,{review:e,key:t})}))))},he=function(){var e=Object(n.useContext)(Y).search,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(p.i)().category,u=(Object(n.useContext)(h).id,function(){"All"===o?L.review.getReviewsAll().then((function(e){console.log("all: ",e),l(e)})):L.review.getReviewsOneType(o).then((function(e){console.log("certain type: ",e),l(e)})),e&&L.review.getReviewsSearch(e).then((function(e){l(e)}))});return Object(n.useEffect)((function(){u()}),[e,o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},fluid:!0},c.map((function(e,t){return r.a.createElement(ue,{review:e,loadReviews:u,key:t})}))))},ye=function(e){var t=e.match,a=Object(n.useState)({category:"",img:"",comments:[],favourites:[],_id:"",author:"",item:"",title:"",rating:"",pros:"",cons:"",description:"",createdAt:"",updatedAt:"",_v:""}),c=Object(i.a)(a,2),l=c[0],o=c[1],m=Object(n.useContext)(h).loadUser,f=Object(n.useState)(),E=Object(i.a)(f,2),g=E[0],y=E[1],w=Object(n.useState)({message:"",type:""}),x=Object(i.a)(w,2),O=x[0],j=x[1],C=Object(p.g)(),k=function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=l,e.next=5,L.review.updateReview(a);case 5:e.sent,j({message:"Successfully updated !",type:"success"}),m(),setTimeout((function(){C.push("/profile")}),500),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),j({message:"Failed to update. Try again.",type:"danger"}),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("params id: ",t.params.id),e.next=3,L.review.getReview(t.params.id);case 3:a=e.sent,console.log(a),o(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){!function(){switch(l.category){case"Technology":return y("warning");case"Fashion":return y("success");case"Miscellaneous":default:y("secondary")}}()}),[l.category]),Object(n.useEffect)((function(){S()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},className:"shadow p-3"},r.a.createElement("h2",null,"Edit Review"),r.a.createElement("hr",null),r.a.createElement($.a,{onSubmit:k},r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput1"},r.a.createElement($.a.Label,null,"Item *"),r.a.createElement($.a.Control,{type:"text",name:"item",value:l.item,placeholder:"Airpods",onChange:function(e){return o(Object(d.a)({},l,{item:e.target.value.substring(0,30)}))}})),r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput2"},r.a.createElement($.a.Label,null,"Title *"),r.a.createElement($.a.Control,{type:"text",name:"title",value:l.title,placeholder:"Well, that was quite expensive!",onChange:function(e){return o(Object(d.a)({},l,{title:e.target.value.substring(0,30)}))}})),r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput3"},r.a.createElement($.a.Label,{style:{color:"green",fontWeight:"bold"}},"Pros"),r.a.createElement($.a.Control,{type:"text",name:"title",value:l.pros,placeholder:"Compatible with all my apple products ( the ecosystem ! )",onChange:function(e){return o(Object(d.a)({},l,{pros:e.target.value.substring(0,20)}))}}))),r.a.createElement(b.a,null,r.a.createElement($.a.Group,{controlId:"exampleForm.ControlInput4"},r.a.createElement($.a.Label,{style:{color:"red",fontWeight:"bold"}},"Cons"),r.a.createElement($.a.Control,{type:"text",name:"title",value:l.cons,placeholder:"Expensive",onChange:function(e){return o(Object(d.a)({},l,{cons:e.target.value.substring(0,20)}))}})))),r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Rating ",r.a.createElement("span",{role:"img","aria-label":"star-emoji"},"\u2b50")," *"),r.a.createElement("div",{key:"inline-radio",className:"mb-3"},[1,2,3,4,5].map((function(e,t){return r.a.createElement($.a.Check,{inline:!0,key:t,name:"ratingSelection",label:l.rate,type:"radio",id:"inline-radio-".concat(e),onChange:function(){return o(Object(d.a)({},l,{rating:e}))},checked:e===l.rating})}))))),r.a.createElement(b.a,null,r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Category"),r.a.createElement(ie.a,null,r.a.createElement(ie.a.Toggle,{variant:g},l.category),r.a.createElement(ie.a.Menu,null,r.a.createElement(ie.a.Item,{onClick:function(){o(Object(d.a)({},l,{category:"Technology"})),y("warning")}},"Technology"),r.a.createElement(ie.a.Item,{onClick:function(){o(Object(d.a)({},l,{category:"Fashion"})),y("success")}},"Fashion"),r.a.createElement(ie.a.Item,{onClick:function(){o(Object(d.a)({},l,{category:"Miscellaneous"})),y("secondary")}},"Miscellaneous")))))),r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Image (URL only)"),r.a.createElement($.a.Control,{type:"text",name:"image",value:l.img,onChange:function(e){return o(Object(d.a)({},l,{img:e.target.value}))}})),r.a.createElement($.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement($.a.Label,null,"Your Review *"),r.a.createElement($.a.Control,{as:"textarea",rows:"4",placeholder:"Great sound but doesn't offer the best value propostion. Other similar quality earphones for much cheaper.",value:l.description,onChange:function(e){return o(Object(d.a)({},l,{description:e.target.value}))}})),O.type?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(me.a,{variant:O.type},O.message))):"",r.a.createElement(G.a,{type:"submit"},"Save"))))},we=function(e){var t=e.match,a=Object(n.useState)({_id:"",review:"",author:"",body:"",createdAt:"",updatedAt:"",_v:""}),c=Object(i.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)({message:"",type:""}),p=Object(i.a)(m,2),f=p[0],E=p[1],g=Object(n.useState)(),h=Object(i.a)(g,2),y=(h[0],h[1],function(){var e=Object(s.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),a=l,e.next=5,L.comment.updateComment(a);case 5:e.sent,E({message:"Successfully updated !",type:"success"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),E({message:"Failed to update. Try again.",type:"danger"}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),w=function(){var e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("params id: ",t.params.id),e.next=3,L.comment.getComment(t.params.id);case 3:a=e.sent,console.log(a),o(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.log(t.params.id),w()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{className:"shadow p-3",style:{backgroundColor:"#00346e"}},f.type?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(me.a,{variant:f.type},f.message))):"",r.a.createElement("h2",null,"Edit Comment"),r.a.createElement("hr",null),r.a.createElement($.a,{onSubmit:y},r.a.createElement($.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement($.a.Label,null,"Your Comment *"),r.a.createElement($.a.Control,{as:"textarea",rows:"4",value:l.body,onChange:function(e){return o(Object(d.a)({},l,{body:e.target.value}))}})),r.a.createElement(G.a,{type:"submit"},"Save"))))},xe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){L.favourite.getFavouriteReviews().then((function(e){console.log(e),c(e)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{style:{backgroundColor:"#00346e"},fluid:!0},r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"My Favourites")),a.map((function(e,t){return r.a.createElement(ue,{review:e.review,key:t})}))))};function Oe(){var e=Object(f.a)(["\n\t&.openNav {\n\t\tmargin-left: 220px;\n\t\ttransition-duration: 0.2s;\n\t}\n\t&.closedNav {\n\t\tmargin-left: 50px;\n\t\ttransition-duration: 0.2s;\n\t}\n\t&.smallDeviceOpen {\n\t\tmargin-top: 90px;\n\t\ttransition-duration: 0.2s;\n\t}\n\t&.smallDeviceClosed {\n\t\tmargin-top: 45px;\n\t\ttransition-duration: 0.2s;\n\t}\n"]);return Oe=function(){return e},e}var je=E.a.div(Oe()),Ce=function(){var e=Object(n.useContext)(g).collapse,t=r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{exact:!0,path:"/profile/edit",component:de}),r.a.createElement(p.b,{exact:!0,path:"/profile",component:ge}),r.a.createElement(p.b,{exact:!0,path:"/review/one/:id",component:se}),r.a.createElement(p.b,{exact:!0,path:"/review/one/edit/:id",component:ye}),r.a.createElement(p.b,{exact:!0,path:"/review/new",component:pe}),r.a.createElement(p.b,{exact:!0,path:"/comment/one/edit/:id",component:we}),r.a.createElement(p.b,{exact:!0,path:"/favourites",component:xe}),r.a.createElement(p.b,{exact:!0,path:"/feed/:category",component:he}),r.a.createElement(p.b,{exact:!0,path:"/",component:be}));return r.a.createElement(x.a,{queries:{small:{maxWidth:599}}},(function(a){return a.small?r.a.createElement(je,{className:e?"smallDeviceClosed":"smallDeviceOpen"},t):r.a.createElement(je,{className:e?"closedNav":"openNav"},t)}))},ke=function(){var e=Object(n.useState)({collapse:!1,onClick:function(e){c(Object(d.a)({},a,{collapse:e}))}}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({search:"",onSearch:function(e){p(Object(d.a)({},m,{search:e}))}}),o=Object(i.a)(l,2),m=o[0],p=o[1],f=Object(n.useState)({id:"",username:"",email:"",bio:"",img:"",experience:"",reviews:[],favourites:[],comments:[],loadUser:function(){var e=Object(s.a)(u.a.mark((function e(){var t,a,n,r,c,l,o,s,i,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.user.getCurrentUser();case 2:t=e.sent,console.log("loaded user: ",t),a=t._id,n=t.username,r=t.email,c=t.bio,l=t.img,o=t.experience,s=t.reviews,i=t.favourites,m=t.comments,b(Object(d.a)({},v,{id:a,username:n,email:r,bio:c,img:l,experience:o,reviews:s,favourites:i,comments:m})),console.log(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),E=Object(i.a)(f,2),v=E[0],b=E[1];return Object(n.useEffect)((function(){v.loadUser()}),[]),r.a.createElement(g.Provider,{value:a},r.a.createElement(Y.Provider,{value:m},r.a.createElement(h.Provider,{value:v},r.a.createElement(Z,null),r.a.createElement(z,null),r.a.createElement(Ce,null))))},Se=function(e){var t=e.onAuthenticate,a=Object(n.useState)(!0),c=Object(i.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(""),s=Object(i.a)(u,2),m=s[0],d=s[1],f=Object(n.useState)(""),E=Object(i.a)(f,2),g=E[0],h=E[1],y=Object(n.useState)(""),w=Object(i.a)(y,2),x=w[0],O=w[1],j=Object(n.useState)(""),C=Object(i.a)(j,2),k=C[0],S=C[1],I=Object(n.useState)({message:"",type:""}),N=Object(i.a)(I,2),F=N[0],P=N[1],R=Object(n.useState)(),U=Object(i.a)(R,2),T=U[0],D=U[1];return r.a.createElement(K.a,{className:"mt-4 text-center"},r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement("h1",{"data-aos":"fade-down","data-aos-duration":"500"},"ReviewMe"))),r.a.createElement(v.a,null,r.a.createElement(b.a,{md:{span:8,offset:2}},r.a.createElement(G.a,{variant:"info btn-block rounded-0",onClick:function(){o(!l),d(""),h(""),O(""),S("")}},l?"New User? Signup here!":"Existing User? Login here!"),r.a.createElement($.a,{onSubmit:function(e){if(e.preventDefault(),P(""),!l){if(!m||!g||!x||!k)return void P({message:"Please fill out all fields.",type:"warning"});if(x!==k)return void P({message:"Passwords do not match.",type:"warning"});var a={username:m,email:g,password:x,confirmPassword:k};L.user.saveUser(a).then((function(e){"danger"!==e.type?(P({message:"Successfully Signed Up!",type:"success"}),o(!0)):P({message:e.message,type:e.type})})).catch((function(e){console.log(e)}))}if(l){if(!m||!x)return void P({message:"Please fill out all fields.",type:"warning"});var n={username:m,password:x};L.user.loginUser(n).then((function(e){t(!0),D(e)})).catch((function(e){P({message:"Login attempt failed. Combination Incorrect.",type:"danger"})}))}},className:"shadow",style:{backgroundColor:"#00346e"}},F.type?r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement(me.a,{variant:F.type},F.message))):"",r.a.createElement(v.a,{className:"p-3"},r.a.createElement(b.a,null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login"),r.a.createElement($.a.Group,{controlId:"formBasicUsername"},r.a.createElement($.a.Label,null,"Username"),r.a.createElement($.a.Control,{type:"text",value:m||"",placeholder:"Enter username",onChange:function(e){return d(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicPassword"},r.a.createElement($.a.Label,null,"Password"),r.a.createElement($.a.Control,{type:"password",value:x||"",placeholder:"Password",onChange:function(e){return O(e.target.value)}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sign Up"),r.a.createElement($.a.Group,{controlId:"formBasicUsername"},r.a.createElement($.a.Label,null,"Username"),r.a.createElement($.a.Control,{type:"text",value:m||"",placeholder:"Enter username",onChange:function(e){return d(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicEmail"},r.a.createElement($.a.Label,null,"Email address"),r.a.createElement($.a.Control,{type:"email",value:g||"",placeholder:"Enter email",onChange:function(e){return h(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicPassword"},r.a.createElement($.a.Label,null,"Password"),r.a.createElement($.a.Control,{type:"password",value:x||"",placeholder:"Password",onChange:function(e){return O(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formBasicConfirmPassword"},r.a.createElement($.a.Label,null,"Confirm Password"),r.a.createElement($.a.Control,{type:"password",value:k||"",placeholder:"Password",onChange:function(e){return S(e.target.value)}}))))),r.a.createElement(G.a,{variant:"primary btn-block rounded-0",type:"submit"},"Submit")))),r.a.createElement("div",{class:"book"},r.a.createElement("div",{class:"back"}),r.a.createElement("div",{class:"page6"}),r.a.createElement("div",{class:"page5"}),r.a.createElement("div",{class:"page4"}),r.a.createElement("div",{class:"page3"}),r.a.createElement("div",{class:"page2"}),r.a.createElement("div",{class:"page1"}),r.a.createElement("div",{class:"front"})),T?r.a.createElement(p.a,{to:T}):"")},Ie=function(){return r.a.createElement(K.a,null,r.a.createElement(v.a,null,r.a.createElement(b.a,null,r.a.createElement("h1",null,"404"))))},Ne=a(89),Fe=a.n(Ne);var Le=function(){Fe.a.init();var e=Object(n.useState)({authenticated:!1}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.user.authenticateUser();case 2:t=e.sent,c(t.user),t.user&&localStorage.setItem("user",t.id),t.user||localStorage.setItem("user","");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/sign-up",render:function(){return r.a.createElement(Se,{onAuthenticate:c})}}),a?r.a.createElement(p.b,{path:"/",component:ke}):r.a.createElement(p.a,{to:"/sign-up"}),r.a.createElement(p.b,{path:"*",component:Ie})))))};l.a.render(r.a.createElement(Le,null),document.getElementById("root"))},60:function(e,t,a){},88:function(e,t,a){e.exports=a.p+"static/media/akihabara.969b6af4.jpg"},91:function(e,t,a){e.exports=a(122)}},[[91,1,2]]]);
//# sourceMappingURL=main.55a9da21.chunk.js.map